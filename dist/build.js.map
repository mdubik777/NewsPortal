{"version":3,"sources":["webpack:///webpack/bootstrap 42d7d631aa15a30e3666","webpack:///./js/create-articles.js","webpack:///./js/request.js","webpack:///./js/main.js"],"names":["imageSource","cleanNewsContainer","sectionContainer","innerHTML","articleModel","date","author","description","source","id","name","title","url","urlToImage","getNewsDate","_date","options","year","month","day","weekday","hour","minute","Date","toLocaleString","renderAllArticles","_articles","result","i","length","renderArticle","insertAdjacentHTML","_article","publishedAt","showLoading","container","spinnerMarkup","showErrorMsg","_type","errorMsg","getRequest","_baseUrl","successCallback","errorCallback","type","promise","fetch","then","response","json","data","status","sources","articles","window","onload","baseUrlAll","baseUrl","api","textChoice","textBack","menuNavBtn","document","getElementById","navWrapper","globalMenu","navList","chooseButton","section","arrayChannels","flag","hideLoading","createChannelsButtons","_data","channelsButtonsResult","buttonsChannelsEventHandler","buildUrl","_id","buttonsEventHandler","e","_this","target","currentId","chosenButtons","Array","prototype","slice","call","childNodes","classList","remove","add","addEventListener","handlerEventButtons","contains","toggle","push","index","indexOf","splice","createObjectsRequestedChannels","_arrayChannels","arrRequestedChannels","obj","getAttribute","cleanButtonsContainer","handlerRequestedButtons","stopPropagation","onclick","removeEventListener","requestedArray"],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/webpack-demo/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42d7d631aa15a30e3666","let imageSource = 'images/service_not_availalbe.jpg';\r\n\r\nlet cleanNewsContainer = (sectionContainer) => {\r\n    sectionContainer.innerHTML = '';\r\n};\r\n\r\nlet articleModel = {\r\n    date: null,\r\n    author: null,\r\n    description: null,\r\n    source: {\r\n        id: null,\r\n        name: null\r\n    },\r\n    title: null,\r\n    url: null,\r\n    urlToImage: null\r\n};\r\n\r\nlet {date, author, description, source: {id, name}, title, url, urlToImage} = articleModel;\r\n\r\nlet getNewsDate = (_date) => {\r\n    let options = {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        weekday: 'long',\r\n        hour: 'numeric',\r\n        minute: 'numeric'\r\n    };\r\n    return new Date(_date).toLocaleString(\"en\", options);\r\n};\r\n\r\n\r\nlet renderAllArticles = (_articles, sectionContainer) => {\r\n    let result = '';\r\n    for (let i = 0; i < _articles.length; ++i) {\r\n        result = result + renderArticle(_articles[i]);\r\n    }\r\n    cleanNewsContainer(sectionContainer);\r\n    sectionContainer.insertAdjacentHTML('beforeend' , result);\r\n};\r\n\r\nlet renderArticle = (_article) => {\r\n    if (_article.description === null && _article.title === '' ) {\r\n        return '';\r\n    }\r\n    author = _article.author;\r\n    description = _article.description;\r\n    id = _article.source.id;\r\n    name = _article.source.name;\r\n    title = _article.title;\r\n\r\n    url = _article.url;\r\n    if (_article.urlToImage === null) {\r\n        urlToImage = `${imageSource}`;\r\n    } else {\r\n        urlToImage = _article.urlToImage;\r\n    }\r\n\r\n    date = getNewsDate(_article.publishedAt);\r\n\r\n    return  '<div class=\"data-box clearfix\">' +\r\n        '<div class=\"image-box\">'  +  '<a target=\"_blank\" href=' +  url + '>' +  '<img src=' + urlToImage + '>' + '</a>'  +  '</div>' +\r\n        '<div class=\"description-container\">'+\r\n\r\n        '<div class=\"source\">' + name + '</div>' +\r\n        '<div class=\"title\">' + '<a target=\"_blank\" href=' +  url + '>' + title +  '</a>'  +   '</div>' +\r\n        '<div class=\"description\">'+ description + '</div>' + '</div>' +\r\n        '<div class=\"date\">' +   date + '</div>' +\r\n\r\n        '</div>';\r\n};\r\n\r\nexport {renderAllArticles};\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/create-articles.js","let showLoading = (container) => {\r\n    const spinnerMarkup = '<div class=\"spinner\">' +\r\n        '<div class=\"rect1\"></div>' +\r\n        '<div class=\"rect2\"></div>' +\r\n        '<div class=\"rect3\"></div>' +\r\n        '<div class=\"rect4\"></div>' +\r\n        '<div class=\"rect5\"></div>' + '</div>';\r\n\r\n    container.insertAdjacentHTML('beforeend' , `${spinnerMarkup}`);\r\n};\r\n\r\n\r\nlet showErrorMsg = (container, _type) => {\r\n    let errorMsg;\r\n    switch (_type){\r\n        case 'sources':\r\n            errorMsg = '<li class=\"error-msg\">oops...something was wrong</li>';\r\n            break;\r\n        case 'articles':\r\n            errorMsg = '<span class=\"error-msg\">oops...something was wrong</span>';\r\n            break;\r\n    }\r\n\r\n    container.innerHTML = '';\r\n    container.insertAdjacentHTML('beforeend' , `${errorMsg}`);\r\n};\r\n\r\nconst getRequest = (_baseUrl, successCallback, errorCallback, type, container) => {\r\n\r\n    showLoading(container);\r\n    let promise = fetch(_baseUrl);\r\n\r\n    promise.then((response) => response.json())\r\n\r\n.then(function(data) {\r\n        if(data && data.status === 'ok' && successCallback && typeof successCallback === 'function'){\r\n            switch (type){\r\n                case 'sources':\r\n                    successCallback(data.sources);\r\n                    break;\r\n                case 'articles':\r\n                    successCallback(data.articles, container);\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }, function() {\r\n        if(errorCallback && typeof errorCallback === 'function'){\r\n            errorCallback();\r\n        }\r\n        showErrorMsg(container, type);\r\n    });\r\n//        .catch((error) => {\r\n//        throw new Error('Error with fetch');\r\n//})\r\n};\r\n\r\nexport default getRequest;\n\n\n// WEBPACK FOOTER //\n// ./js/request.js","'use strict';\r\n\r\nimport getRequest from './request';\r\nimport {renderAllArticles} from './create-articles';\r\n\r\n\r\nwindow.onload = function() {\r\n\r\n    const baseUrlAll = 'https://newsapi.org/v2/sources?&apiKey=83b6d448f18244e79fa4e8619b3edf03',\r\n          baseUrl = 'https://newsapi.org/v2/top-headlines?sources=',\r\n          api = '&apiKey=83b6d448f18244e79fa4e8619b3edf03',\r\n          textChoice = 'Choose',\r\n          textBack = 'Back to list';\r\n\r\n    let menuNavBtn = document.getElementById('menu-btn-action'),\r\n        navWrapper = document.getElementById('main-menu-action'),\r\n        globalMenu = document.getElementById('global-menu-action'),\r\n        navList = document.getElementById('buttons-list'),\r\n        chooseButton = document.getElementById('filter-button'),\r\n        section = document.getElementById('section'),\r\n        arrayChannels = [],\r\n        source = null,\r\n        flag;\r\n\r\n\r\n//loading State\r\n\r\n    let hideLoading = (container) => {\r\n        container.innerHTML = '';\r\n    };\r\n\r\n    let createChannelsButtons = (_data) => {\r\n        let channelsButtonsResult = '';\r\n        for (let i = 0; i < _data.length; i ++) {\r\n            channelsButtonsResult += '<li id=\"' + _data[i].id + '\" class=\"channel-button\" data-name=\"'+ _data[i].name +'\">' + _data[i].name + '</li>'\r\n        }\r\n\r\n        hideLoading(navList);\r\n        navList.insertAdjacentHTML('beforeend' , channelsButtonsResult);\r\n\r\n        buttonsChannelsEventHandler();\r\n    };\r\n\r\n    let buildUrl = (_id) => {\r\n        return `${baseUrl}${_id}${api}`;\r\n    };\r\n\r\n    let buttonsEventHandler = (e) => {\r\n        let _this = e.target,\r\n            currentId = _this.id,\r\n            url = buildUrl(currentId),\r\n            chosenButtons = Array.prototype.slice.call(navList.childNodes);\r\n        for (let i = 0; i < chosenButtons.length; i++ ) {\r\n            chosenButtons[i].classList.remove('checked');\r\n        }\r\n        _this.classList.add('checked');\r\n        section.innerHTML = '';\r\n        getRequest(url, renderAllArticles, null, 'articles', section);\r\n    };\r\n\r\n     let cleanNewsContainer = () => {\r\n        section.innerHTML = '';\r\n    };\r\n\r\n    let buttonsChannelsEventHandler = () => {\r\n        navList.addEventListener('click', handlerEventButtons);\r\n    };\r\n\r\n    let handlerEventButtons = (e) => {\r\n        let _this = e.target;\r\n        if (_this.classList.contains('channel-button')) {\r\n            _this.classList.toggle('checked');\r\n        }\r\n\r\n        if (_this.classList.contains('checked')) {\r\n            arrayChannels.push(_this);\r\n\r\n        } else if (arrayChannels.length) {\r\n            let index = arrayChannels.indexOf(_this);\r\n\r\n            arrayChannels.splice(index, 1);\r\n\r\n            if (arrayChannels.length === 0) {\r\n                chooseButton.classList.add('disabled');\r\n            }\r\n        }\r\n\r\n        if (arrayChannels.length) {\r\n            chooseButton.classList.remove('disabled');\r\n        }\r\n    };\r\n\r\n    let createObjectsRequestedChannels = (_arrayChannels) => {\r\n        let arrRequestedChannels = [];\r\n        for (let i = 0; i < _arrayChannels.length; i++) {\r\n            let obj = {\r\n                id: _arrayChannels[i].id,\r\n                name: _arrayChannels[i].getAttribute('data-name')\r\n            };\r\n\r\n            arrRequestedChannels.push(obj);\r\n        }\r\n\r\n        return arrRequestedChannels;\r\n    };\r\n\r\n    let cleanButtonsContainer = () =>{\r\n        navList.innerHTML = '';\r\n    };\r\n\r\n    let handlerRequestedButtons = () => {\r\n        navList.addEventListener('click', buttonsEventHandler);\r\n    };\r\n\r\n\r\n    getRequest(baseUrlAll, createChannelsButtons, null, 'sources', navList);\r\n\r\n    // menu\r\n\r\n    menuNavBtn.addEventListener('click', function(e) {\r\n        globalMenu.classList.toggle('open');\r\n        e.stopPropagation();\r\n    });\r\n\r\n    document.onclick = function(e) {\r\n        if (globalMenu.classList.contains('open')) {\r\n            globalMenu.classList.remove('open');\r\n        }\r\n    };\r\n\r\n    chooseButton.addEventListener('click', function() {\r\n\r\n        if (flag === true) {\r\n            flag = false;\r\n            cleanButtonsContainer();\r\n            navList.removeEventListener('click', buttonsEventHandler);\r\n            getRequest(baseUrlAll, createChannelsButtons, null, 'sources', navList);\r\n            section.innerHTML = '';\r\n            chooseButton.innerHTML = `${textChoice}`;\r\n            chooseButton.classList.add('disabled');\r\n            arrayChannels = [];\r\n            return;\r\n        }\r\n\r\n        cleanButtonsContainer();\r\n        let requestedArray = createObjectsRequestedChannels(arrayChannels);\r\n        createChannelsButtons(requestedArray);\r\n        navList.removeEventListener('click', handlerEventButtons);\r\n        handlerRequestedButtons();\r\n        chooseButton.innerHTML = `${textBack}`;\r\n        flag = true;\r\n    });\r\n\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js"],"sourceRoot":""}